# ğŸ“Š å°è‚¡è·Œå¹…æ’è¡Œ vs å¤–è³‡è²·è³£è¶… Dashboard

æ¯æ—¥ç›¤å¾Œè‡ªå‹•æŠ“å–**å¯Œé‚¦ e-Broker è·Œå¹…æ’è¡Œ**ï¼ˆ5æ—¥/10æ—¥ï¼‰èˆ‡ **TWSE å¤–è³‡è²·è³£è¶…**è³‡æ–™ï¼Œäº¤å‰æ¯”å°å¾Œç”¢ç”Ÿä¸€é å¼ HTML Dashboardï¼Œä¸€çœ¼çœ‹å‡ºã€Œå¤–è³‡é€¢ä½å¸ƒå±€ã€å’Œã€Œå¤–è³‡æŒçºŒçœ‹ç©ºã€çš„å€‹è‚¡ã€‚

> **Live Demoï¼ˆGitHub Pages è‡ªå‹•æ›´æ–°ï¼‰ï¼š** `https://<your-username>.github.io/<repo-name>/`

---

## ç›®éŒ„

1. [åŠŸèƒ½æ¦‚è¦½](#åŠŸèƒ½æ¦‚è¦½)
2. [è³‡æ–™ä¾†æºèˆ‡æ¬„ä½](#è³‡æ–™ä¾†æºèˆ‡æ¬„ä½)
3. [ç³»çµ±æ¶æ§‹](#ç³»çµ±æ¶æ§‹)
4. [æœ¬æ©ŸåŸ·è¡Œ](#æœ¬æ©ŸåŸ·è¡Œ)
5. [éƒ¨ç½² GitHub Pagesï¼ˆè‡ªå‹•æ’ç¨‹ï¼‰](#éƒ¨ç½²-github-pagesè‡ªå‹•æ’ç¨‹)
6. [å·²çŸ¥å•é¡Œèˆ‡æ³¨æ„äº‹é …](#å·²çŸ¥å•é¡Œèˆ‡æ³¨æ„äº‹é …)
7. [æª”æ¡ˆæ¸…å–®](#æª”æ¡ˆæ¸…å–®)
8. [æ¥æ‰‹é–‹ç™¼æŒ‡å—ï¼ˆçµ¦ä¸‹ä¸€å€‹ AI æˆ–é–‹ç™¼è€…ï¼‰](#æ¥æ‰‹é–‹ç™¼æŒ‡å—)

---

## åŠŸèƒ½æ¦‚è¦½

- æŠ“å–å¯Œé‚¦ e-Broker ä¸Šå¸‚è‚¡ç¥¨ **5æ—¥è·Œå¹… Top 50** å’Œ **10æ—¥è·Œå¹… Top 50**
- åˆä½µå…©ä»½æ’è¡Œï¼ˆunion mergeï¼‰ï¼Œä¿ç•™å„è‡ªæ’å
- æŠ“å– TWSE T86 **å¤–è³‡åŠé™¸è³‡è²·è³£è¶…**é€æª”è³‡æ–™
- äº¤å‰æ¯”å°ï¼Œåˆ†ä¸‰é¡ï¼š
  - ğŸŸ¢ **å¤–è³‡é€¢ä½å¸ƒå±€**ï¼šè·Œå¹…æ¦œä¸Šçš„è‚¡ç¥¨ï¼Œå¤–è³‡æ·¨è²·è¶… > 0
  - ğŸ”´ **å¤–è³‡æŒçºŒçœ‹ç©º**ï¼šè·Œå¹…æ¦œä¸Šçš„è‚¡ç¥¨ï¼Œå¤–è³‡æ·¨è³£è¶… â‰¤ 0
  - âšª **ç„¡å¤–è³‡è³‡æ–™**ï¼šETFã€KY è‚¡ç­‰ TWSE T86 æœªæ¶µè“‹çš„æ¨™çš„
- ç”¢å‡ºæ·±è‰²ä¸»é¡Œ HTML Dashboardï¼Œå«ä¸‰ä»½è³‡æ–™ä¾†æºæ—¥æœŸ + æ—¥æœŸä¸åŒæ­¥è­¦å‘Š
- å°è‚¡æ…£ä¾‹é…è‰²ï¼šç´…æ¼²ç¶ è·Œ

---

## è³‡æ–™ä¾†æºèˆ‡æ¬„ä½

### 1. å¯Œé‚¦ e-Broker è·Œå¹…æ’è¡Œ

| é …ç›® | å€¼ |
|------|-----|
| 5æ—¥ URL | `https://fubon-ebrokerdj.fbs.com.tw/z/zg/zg_AA_0_5.djhtm` |
| 10æ—¥ URL | `https://fubon-ebrokerdj.fbs.com.tw/z/zg/zg_AA_0_10.djhtm` |
| ç·¨ç¢¼ | Big5 |
| è³‡æ–™ç­†æ•¸ | å„ 50 æª” |

**è§£æé‡é»ï¼š**
- é é¢çš„ rank 1-2 è·Ÿè¡¨é ­ `<tr>` è¢«å¡åœ¨åŒä¸€åˆ—ï¼ˆéæ¨™æº– HTML çµæ§‹ï¼‰
- rank 1-2 çš„æ¼²è·Œå¹…æ¬„æœ‰é¡å¤–ç©ºç™½ `<td>`ï¼ˆ9 cells vs æ­£å¸¸ 8 cellsï¼‰
- å› æ­¤**ä¸èƒ½ç”¨ `<tr>` ç‚ºé‚Šç•Œ**ï¼Œè€Œæ˜¯æ”¶é›†æ‰€æœ‰ `<td>` å¾Œé€ä¸€æƒæï¼Œè·³éç©ºç™½ cell
- é é¢æ—¥æœŸæ ¼å¼ï¼š`æ—¥æœŸï¼šMM/DD`ï¼Œç”¨ regex æ“·å–

**æ¬„ä½å°æ‡‰ï¼ˆæ¯ç­†è‚¡ç¥¨ï¼‰ï¼š**

```python
{
    "rank": int,           # åŸå§‹æ’å (1~50)
    "code": str,           # è‚¡ç¥¨ä»£è™Ÿ (å¾ Link2Stk('XXXX') æ“·å–)
    "name": str,           # è‚¡ç¥¨åç¨± (å»é™¤ä»£è™Ÿå¾Œçš„æ–‡å­—)
    "close": float,        # æ”¶ç›¤åƒ¹
    "change": float,       # ç•¶æ—¥æ¼²è·Œ
    "change_pct": float,   # ç•¶æ—¥æ¼²è·Œå¹… (%)
    "volume": float,       # æˆäº¤é‡
    "five_day_change": float,   # 5æ—¥æ¼²è·Œ (10æ—¥é é¢æ­¤æ¬„ç‚º10æ—¥æ¼²è·Œ)
    "five_day_pct": float,      # 5æ—¥æ¼²è·Œå¹… (10æ—¥é é¢æ­¤æ¬„ç‚º10æ—¥æ¼²è·Œå¹…)
}
```

### 2. TWSE å¤–è³‡è²·è³£è¶…ï¼ˆT86ï¼‰

| é …ç›® | å€¼ |
|------|-----|
| URL | `https://www.twse.com.tw/rwd/zh/fund/T86` |
| åƒæ•¸ | `date=YYYYMMDD&selectType=ALL&response=json` |
| è³‡æ–™ç­†æ•¸ | ~900+ æª”ï¼ˆå…¨ä¸Šå¸‚ï¼‰ |

**æ¬„ä½å°æ‡‰ï¼š**

```
row[0] = è­‰åˆ¸ä»£è™Ÿ
row[1] = è­‰åˆ¸åç¨±
row[2] = å¤–é™¸è³‡è²·é€²è‚¡æ•¸(ä¸å«å¤–è³‡è‡ªç‡Ÿå•†)
row[3] = å¤–é™¸è³‡è³£å‡ºè‚¡æ•¸(ä¸å«å¤–è³‡è‡ªç‡Ÿå•†)
row[4] = å¤–é™¸è³‡è²·è³£è¶…è‚¡æ•¸(ä¸å«å¤–è³‡è‡ªç‡Ÿå•†)
```

- è‚¡æ•¸ Ã· 1000 = å¼µæ•¸ï¼ˆç”¨ `// 1000` å–æ•´ï¼‰
- è‹¥ä»Šå¤©å°šç„¡è³‡æ–™ï¼ˆç›¤ä¸­æˆ–å‡æ—¥ï¼‰ï¼Œè‡ªå‹•å¾€å‰æœ€å¤š 7 å¤©å°‹æ‰¾æœ€è¿‘äº¤æ˜“æ—¥
- å›å‚³ JSON çš„ `data.stat == "OK"` è¡¨ç¤ºæœ‰è³‡æ–™

### 3. æ—¥æœŸä¸åŒæ­¥å•é¡Œ

å¯Œé‚¦é é¢åœ¨**ç›¤ä¸­å³æ›´æ–°**ï¼ˆä¾‹å¦‚ 2/6 é–‹ç›¤å¾Œå°±è®Šæˆ 2/6 çš„è·Œå¹…ï¼‰ï¼Œä½† TWSE å¤–è³‡è³‡æ–™è¦ç­‰**ç›¤å¾Œç´„ 16:00~17:00** æ‰æœƒä¸Šæ¶ã€‚å› æ­¤åœ¨ 13:30~17:00 ä¹‹é–“åŸ·è¡Œï¼Œæœƒå‡ºç¾è·Œå¹… = ä»Šå¤©ã€å¤–è³‡ = æ˜¨å¤©çš„ä¸åŒæ­¥æƒ…æ³ã€‚Dashboard é ‚éƒ¨çš„ã€Œè³‡æ–™ä¾†æºæ—¥æœŸåˆ—ã€æœƒé¡¯ç¤ºä¸‰ä»½è³‡æ–™å„è‡ªçš„æ—¥æœŸï¼Œè‹¥æ—¥æœŸä¸ä¸€è‡´æœƒé¡¯ç¤ºæ©˜è‰²è­¦å‘Šã€‚

---

## ç³»çµ±æ¶æ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  stock_foreign_dashboard.py                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ fetch_fubon â”‚ fetch_twse   â”‚ merge_and_classify             â”‚
â”‚ _ranking()  â”‚ _foreign     â”‚ + generate_html()              â”‚
â”‚             â”‚ _data()      â”‚                                â”‚
â”‚ 5æ—¥ + 10æ—¥  â”‚ T86 JSON     â”‚ â†’ stock_foreign_dashboard.html â”‚
â”‚ Big5 HTML   â”‚ å¤–è³‡è²·è³£è¶…   â”‚   (è‡ªå‹•é–‹å•Ÿç€è¦½å™¨)              â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚             â”‚
       â–¼             â–¼
  å¯Œé‚¦ e-Broker    TWSE
  (Big5 HTML)    (JSON API)
```

**åˆä½µé‚è¼¯ï¼ˆunion mergeï¼‰ï¼š**

```
5æ—¥æ¸…å–® (50æª”) â”€â”€â”
                 â”œâ”€â†’ åˆä½µ â†’ ç´„ 60~80 æª”ï¼ˆè¦–é‡ç–Šç¨‹åº¦ï¼‰
10æ—¥æ¸…å–® (50æª”) â”€â”€â”˜

æ­¥é©Ÿï¼š
(A) 5æ—¥æ¸…å–®ç‚ºä¸»é«”ï¼Œè£œå…¥ 10æ—¥æ¬„ä½ï¼ˆten_day_change, ten_day_pctï¼‰
(B) åªåœ¨10æ—¥ã€ä¸åœ¨5æ—¥çš„è‚¡ç¥¨ï¼š5æ—¥æ¬„ä½å¡« Noneï¼Œ10æ—¥æ¬„ä½å¡«å…¥
```

**åˆ†é¡é‚è¼¯ï¼š**
- `net > 0` â†’ ğŸŸ¢ å¤–è³‡é€¢ä½å¸ƒå±€ï¼ˆä¾æ·¨è²·è¶…ç”±å¤§åˆ°å°æ’åºï¼‰
- `net â‰¤ 0` â†’ ğŸ”´ å¤–è³‡æŒçºŒçœ‹ç©ºï¼ˆä¾æ·¨è³£è¶…ç”±å¤šåˆ°å°‘æ’åºï¼‰
- ç„¡å¤–è³‡è³‡æ–™ â†’ âšª

---

## æœ¬æ©ŸåŸ·è¡Œ

### ç’°å¢ƒéœ€æ±‚

- Python 3.8+ï¼ˆå·²åœ¨ 3.12 / 3.14 æ¸¬è©¦é€šéï¼‰
- å¥—ä»¶ï¼š`requests`, `beautifulsoup4`

### å®‰è£

```bash
pip install requests beautifulsoup4
```

### åŸ·è¡Œ

```bash
python stock_foreign_dashboard.py
```

**è¼¸å‡ºï¼š**
- Console é¡¯ç¤ºæŠ“å–é€²åº¦å’Œçµ±è¨ˆ
- ç”¢ç”Ÿ `stock_foreign_dashboard.html`ï¼ˆèˆ‡ .py åŒç›®éŒ„ï¼‰
- è‡ªå‹•é–‹å•Ÿç€è¦½å™¨ï¼ˆå¯åœ¨ CI ç’°å¢ƒä¸­è¢«è·³éï¼‰

### åŸ·è¡Œç¯„ä¾‹ Console è¼¸å‡º

```
============================================================
  è‚¡ç¥¨è·Œå¹… vs å¤–è³‡è²·è³£è¶… æ¯”å° Dashboard
============================================================

[1/3] æ­£åœ¨æŠ“å–å¯Œé‚¦ e-Broker è·Œå¹…æ’è¡Œ...
   æ­£åœ¨æŠ“å– 5æ—¥è·Œå¹…æ’è¡Œ...
   â†’ é é¢è³‡æ–™æ—¥æœŸ: 02/06
   â†’ æˆåŠŸå–å¾— 50 æª”è‚¡ç¥¨è·Œå¹…è³‡æ–™
   æ­£åœ¨æŠ“å– 10æ—¥è·Œå¹…æ’è¡Œ...
   â†’ é é¢è³‡æ–™æ—¥æœŸ: 02/06
   â†’ æˆåŠŸå–å¾— 50 æª”è‚¡ç¥¨è·Œå¹…è³‡æ–™
   â†’ åˆä½µå¾Œå…± 76 æª” (5æ—¥:50, åƒ…10æ—¥:26)
[2/3] æ­£åœ¨æŠ“å– TWSE å¤–è³‡è²·è³£è¶…è³‡æ–™...
   â†’ æˆåŠŸå–å¾— 946 æª”å¤–è³‡è²·è³£è¶…è³‡æ–™ (æ—¥æœŸ: 20260205)
[3/3] æ­£åœ¨ç”¢ç”Ÿ HTML Dashboard...

âœ… Dashboard å·²ç”¢ç”Ÿ: /path/to/stock_foreign_dashboard.html
```

---

## éƒ¨ç½² GitHub Pagesï¼ˆè‡ªå‹•æ’ç¨‹ï¼‰

### åŸç†

ä½¿ç”¨ **GitHub Actions** åœ¨å°è‚¡ç›¤å¾Œï¼ˆæ¯æ—¥ 17:30 TST = 09:30 UTCï¼‰è‡ªå‹•ï¼š
1. åŸ·è¡Œ Python è…³æœ¬æŠ“è³‡æ–™
2. ç”¢ç”Ÿ HTML
3. éƒ¨ç½²åˆ° `gh-pages` åˆ†æ”¯
4. GitHub Pages è‡ªå‹• serve æœ€æ–° HTML

### æ­¥é©Ÿ

#### 1. å»ºç«‹ GitHub Repo

```
your-repo/
â”œâ”€â”€ stock_foreign_dashboard.py   # ä¸»ç¨‹å¼
â”œâ”€â”€ requirements.txt             # Python å¥—ä»¶
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â””â”€â”€ deploy.yml           # GitHub Actions workflow
â””â”€â”€ README.md
```

#### 2. å•Ÿç”¨ GitHub Pages

- Repo â†’ Settings â†’ Pages
- Source: é¸ **GitHub Actions**ï¼ˆæˆ– `gh-pages` branchï¼‰

#### 3. æª”æ¡ˆå…§å®¹

**requirements.txtï¼š**
```
requests
beautifulsoup4
```

**`.github/workflows/deploy.yml`ï¼š**ï¼ˆå·²é™„åœ¨ repo ä¸­ï¼Œè¦‹ä¸‹æ–¹æª”æ¡ˆæ¸…å–®ï¼‰

æ’ç¨‹èªªæ˜ï¼š
- `cron: '30 9 * * 1-5'` = UTC 09:30 = **å°ç£æ™‚é–“ 17:30**ï¼ˆç›¤å¾Œå¤–è³‡è³‡æ–™å·²æ›´æ–°ï¼‰
- åªåœ¨é€±ä¸€åˆ°é€±äº”åŸ·è¡Œ
- ä¹Ÿå¯æ‰‹å‹•åœ¨ Actions é é¢æŒ‰ Run workflow

#### 4. æ¨ä¸Š GitHub

```bash
git add .
git commit -m "Initial deploy"
git push origin main
```

æ¨ä¸Šå¾Œ Actions å°±æœƒåœ¨æ’ç¨‹æ™‚é–“è‡ªå‹•åŸ·è¡Œï¼Œæˆ–ä½ å¯ä»¥åœ¨ Actions tab æ‰‹å‹•è§¸ç™¼ã€‚

---

## å·²çŸ¥å•é¡Œèˆ‡æ³¨æ„äº‹é …

### SSL æ†‘è­‰

å¯Œé‚¦ e-Broker å’Œ TWSE çš„ SSL æ†‘è­‰ç¼ºå°‘ Subject Key Identifierï¼ŒPython 3.14 çš„åš´æ ¼é©—è­‰æœƒå ±éŒ¯ã€‚ç¨‹å¼å·²å…§å»º `FubonSSLAdapter` å°é€™å…©å€‹ domain ä½¿ç”¨è‡ªè¨‚ SSL contextï¼ˆ`verify_mode=CERT_NONE`ï¼‰ï¼Œåƒ…é™å®šæ›è¼‰åˆ°æŒ‡å®š domainï¼Œä¸å½±éŸ¿å…¶ä»–ç¶²ç«™ã€‚

### è«‹æ±‚é »ç‡

æ¯æ¬¡è«‹æ±‚ä¹‹é–“æœ‰ `REQUEST_DELAY = 3` ç§’å»¶é²ï¼Œé¿å…è¢«ä¾†æºç¶²ç«™å°é–ã€‚

### å¯Œé‚¦é é¢ HTML çµæ§‹

- Rank 1-2 å’Œè¡¨é ­åœ¨åŒä¸€ `<tr>` ä¸­ï¼ˆéæ¨™æº–çµæ§‹ï¼‰
- Rank 1-2 æœ‰é¡å¤–ç©ºç™½ `<td>`
- ç¨‹å¼ç”¨ã€Œå…¨ `<td>` æƒæ + è·³ç©ºç™½ã€ç­–ç•¥è™•ç†ï¼Œå·²é©—è­‰ 50 æª”å…¨æ•¸å–å¾—

### TWSE è³‡æ–™æ›´æ–°æ™‚é–“

- å¤–è³‡è²·è³£è¶…é€šå¸¸åœ¨ **16:00~17:00** ä¹‹é–“ä¸Šæ¶
- è‹¥åœ¨æ­¤ä¹‹å‰åŸ·è¡Œï¼Œæœƒè‡ªå‹• fallback åˆ°å‰ä¸€å€‹äº¤æ˜“æ—¥
- Dashboard é ‚éƒ¨æœƒé¡¯ç¤ºå¯¦éš›ä½¿ç”¨çš„æ—¥æœŸï¼Œæ–¹ä¾¿ç¢ºèª

### ETF / KY è‚¡

éƒ¨åˆ† ETFï¼ˆå¦‚ 00738Uï¼‰å’Œ KY è‚¡åœ¨ TWSE T86 ä¸­å¯èƒ½ç„¡è³‡æ–™ï¼Œæœƒæ­¸é¡åˆ°ã€Œç„¡å¤–è³‡è³‡æ–™ã€ã€‚

---

## æª”æ¡ˆæ¸…å–®

| æª”æ¡ˆ | èªªæ˜ |
|------|------|
| `stock_foreign_dashboard.py` | ä¸»ç¨‹å¼ï¼ˆæŠ“è³‡æ–™ + ç”¢ HTMLï¼‰ |
| `requirements.txt` | Python å¥—ä»¶ä¾è³´ |
| `.github/workflows/deploy.yml` | GitHub Actions æ’ç¨‹ + éƒ¨ç½² |
| `README.md` | æœ¬æ–‡ä»¶ |

---

## æ¥æ‰‹é–‹ç™¼æŒ‡å—

> é€™æ®µå°ˆé–€å¯«çµ¦ä¸‹ä¸€å€‹æ¥æ‰‹çš„ AI æˆ–é–‹ç™¼è€…ï¼Œå¹«åŠ©ä½ å¿«é€Ÿç†è§£ç¨‹å¼ç¢¼çµæ§‹å’Œè¸©éçš„å‘ã€‚

### ç¨‹å¼ç¢¼çµæ§‹

```
stock_foreign_dashboard.pyï¼ˆ~900 è¡Œï¼‰
â”‚
â”œâ”€ Constants (line ~20-40)
â”‚  â”œâ”€ FUBON_URL_5D, FUBON_URL_10D    # å¯Œé‚¦ 5æ—¥/10æ—¥ URL
â”‚  â”œâ”€ TWSE_FOREIGN_URL               # TWSE T86 API
â”‚  â”œâ”€ REQUEST_DELAY = 3              # è«‹æ±‚é–“éš”ç§’æ•¸
â”‚  â””â”€ OUTPUT_HTML                    # è¼¸å‡ºæª”å
â”‚
â”œâ”€ SSL Adapter (line ~45-75)
â”‚  â”œâ”€ FubonSSLAdapter(HTTPAdapter)   # è‡ªè¨‚ SSL context
â”‚  â””â”€ SESSION.mount(...)             # åªæ›è¼‰åˆ° fubon + twse domain
â”‚
â”œâ”€ fetch_fubon_ranking(url, label)   â†’ (stocks_list, date_str)
â”‚  â”œâ”€ å…¨ <td> æƒææ³•ï¼ˆä¸ç”¨ <tr> é‚Šç•Œï¼‰
â”‚  â”œâ”€ è‡ªå‹•è·³éç©ºç™½ cell
â”‚  â””â”€ å¾é é¢æ“·å–æ—¥æœŸ "æ—¥æœŸï¼šMM/DD"
â”‚
â”œâ”€ fetch_twse_foreign_data(target_date)  â†’ (foreign_map, date_str)
â”‚  â”œâ”€ T86 API with selectType=ALL
â”‚  â”œâ”€ è‚¡æ•¸ // 1000 = å¼µæ•¸
â”‚  â””â”€ è‡ªå‹•å¾€å‰ 7 å¤© fallback
â”‚
â”œâ”€ merge_and_classify(stocks, foreign_map)  â†’ (buying, selling, nodata)
â”‚  â””â”€ net > 0 â†’ buying, net â‰¤ 0 â†’ selling
â”‚
â”œâ”€ generate_html(buying, selling, nodata, date_5d, date_10d, date_foreign)
â”‚  â”œâ”€ æ·±è‰²ä¸»é¡Œ CSSï¼ˆinlineï¼‰
â”‚  â”œâ”€ Google Fonts: Noto Sans TC + JetBrains Mono
â”‚  â”œâ”€ è³‡æ–™ä¾†æºæ—¥æœŸåˆ— + ä¸åŒæ­¥è­¦å‘Š
â”‚  â””â”€ ä¸‰å€å¡Šè¡¨æ ¼ï¼ˆé€¢ä½å¸ƒå±€/æŒçºŒçœ‹ç©º/ç„¡è³‡æ–™ï¼‰
â”‚
â””â”€ main()
   â”œâ”€ Step 1: fetch 5D + 10D â†’ union merge
   â”œâ”€ Step 2: fetch TWSE T86
   â””â”€ Step 3: classify + generate HTML + open browser
```

### è¸©å‘è¨˜éŒ„ï¼ˆé‡è¦ï¼ï¼‰

1. **å¯Œé‚¦ rank 1-2 ä¸Ÿå¤±å•é¡Œ**
   - ç—‡ç‹€ï¼šåªå–åˆ° 48 æª”è€Œé 50 æª”
   - æ ¹å› ï¼šrank 1-2 è·Ÿè¡¨é ­åœ¨åŒä¸€ `<tr>`ï¼Œç”¨ `cells[0].isdigit()` åˆ¤æ–·æœƒè·³é
   - ä¿®æ³•ï¼šæ”¹ç”¨å…¨ `<td>` æƒæï¼Œä¸ä¾è³´ `<tr>` é‚Šç•Œ

2. **TWSE API é¸éŒ¯ endpoint**
   - éŒ¯èª¤ï¼šç”¨ TWT38Uï¼ˆåªæœ‰ 2-3 ç­†å½™ç¸½è³‡æ–™ï¼‰
   - æ­£ç¢ºï¼šç”¨ **T86**ï¼ˆ`selectType=ALL`ï¼Œå›å‚³ 900+ æª”é€è‚¡è³‡æ–™ï¼‰

3. **SSL æ†‘è­‰å•é¡Œï¼ˆPython 3.14ï¼‰**
   - å¯Œé‚¦å’Œ TWSE éƒ½ç¼ºå°‘ Subject Key Identifier
   - è§£æ³•ï¼šè‡ªè¨‚ HTTPAdapter + SSL contextï¼Œåƒ…æ›è¼‰åˆ°æŒ‡å®š domain

4. **10æ—¥è³‡æ–™åˆä½µ**
   - 10æ—¥é é¢çš„æ¬„ä½çµæ§‹è·Ÿ5æ—¥å®Œå…¨ä¸€æ¨£ï¼ˆ`five_day_change` å…¶å¯¦æ˜¯ 10æ—¥æ¼²è·Œï¼‰
   - åˆä½µæ™‚è¦æŠŠ 10æ—¥é é¢çš„ `five_day_change` å°æ‡‰åˆ° `ten_day_change`

### å¦‚æœè¦æ“´å……

- **åŠ å…¥ä¸Šæ«ƒï¼ˆOTCï¼‰**ï¼šæŠŠ `zg_AA_0_5` æ”¹æˆ `zg_BA_0_5`ï¼ˆä¸Šæ«ƒï¼‰ã€TWSE T86 ä¸å« OTCï¼Œéœ€æ”¹ç”¨ TPEx API
- **åŠ å…¥æŠ•ä¿¡è³‡æ–™**ï¼šT86 çš„ row[8]~[10] æ˜¯æŠ•ä¿¡è²·è³£è¶…
- **åŠ å…¥è‡ªç‡Ÿå•†è³‡æ–™**ï¼šT86 çš„ row[5]~[7] æ˜¯å¤–è³‡è‡ªç‡Ÿå•†ã€row[11] æ˜¯è‡ªç‡Ÿå•†åˆè¨ˆ
- **æ­·å²è³‡æ–™è¿½è¹¤**ï¼šå¯ç”¨ GitHub Actions æ¯å¤© commit JSON åˆ° `data/` ç›®éŒ„
- **æ”¹ç‚ºå‰ç«¯å³æ™‚æŠ“å–**ï¼šTWSE API æœ‰ CORS é™åˆ¶ï¼Œå¯Œé‚¦æ˜¯ Big5 éœ€ proxyï¼Œå»ºè­°ç¶­æŒå¾Œç«¯æŠ“å– + éœæ…‹ HTML éƒ¨ç½²

### è³‡å®‰æª¢æŸ¥æ¸…å–®

æ¯æ¬¡ä¿®æ”¹ç¨‹å¼ç¢¼å¾Œï¼Œè«‹ç¢ºèªï¼š

```bash
# ä¸æ‡‰æœ‰ä»¥ä¸‹ä»»ä½•çµæœ
grep -n "os.remove\|shutil.rmtree\|eval(\|exec(\|subprocess\|os.system" stock_foreign_dashboard.py
grep -n "requests.post\|requests.put\|ftp\|smtp\|upload" stock_foreign_dashboard.py
grep -n "password\|token\|secret\|api_key\|credential" stock_foreign_dashboard.py
grep -n "/etc/passwd\|\.ssh\|\.env" stock_foreign_dashboard.py
```

âœ… ç¶²è·¯é€£ç·šåƒ…é™ï¼šå¯Œé‚¦ e-Brokerã€TWSEã€Google Fonts CDN
âœ… æª”æ¡ˆå¯«å…¥åƒ…é™ï¼šæœ¬åœ° HTML è¼¸å‡º
âœ… ç„¡ eval/exec/subprocess å‹•æ…‹åŸ·è¡Œ
